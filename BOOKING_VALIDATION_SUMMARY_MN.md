# üéâ –ó–∞—Ö–∏–∞–ª–≥—ã–Ω –û–≥–Ω–æ–æ –°–æ–Ω–≥–æ–ª—Ç - ”®”©—Ä—á–ª”©–ª—Ç–∏–π–Ω –¢–æ–≤—á–ª–æ–ª

## üìå –Æ—É —à–∏–Ω—ç—á–ª—ç–≥–¥—Å—ç–Ω –±—ç?

–¢–∞ capture —Ö“Ø—Å—ç–∂ –±–∞–π—Å–∞–Ω –±“Ø—Ö —Ñ—É–Ω–∫—Ü“Ø“Ø–¥ –æ–¥–æ–æ –∞–∂–∏–ª–ª–∞–∂ –±–∞–π–Ω–∞:

### 1. ‚úÖ –ó–∞—Ö–∏–∞–ª–∞–≥–¥—Å–∞–Ω ”©–¥—Ä“Ø“Ø–¥–∏–π–≥ –∞–≤—Ç–æ–º–∞—Ç–∞–∞—Ä —Ö–æ—Ä–∏–≥–ª–æ—Ö
**”®–º–Ω”©:** –•—ç—Ä—ç–≥–ª—ç–≥—á –∑–∞—Ö–∏–∞–ª–∞–≥–¥—Å–∞–Ω –æ–≥–Ω–æ–æ —Å–æ–Ω–≥–æ–∂, –∞–ª–¥–∞–∞ –≥–∞—Ä—á –±–∞–π—Å–∞–Ω.

**–û–¥–æ–æ:** 
- –ó–∞—Ö–∏–∞–ª–∞–≥–¥—Å–∞–Ω ”©–¥—Ä“Ø“Ø–¥ (PENDING, CONFIRMED) –∞–≤—Ç–æ–º–∞—Ç–∞–∞—Ä **disable** –±–æ–ª–Ω–æ
- –¢—ç–¥–Ω–∏–π–≥ –¥–∞—Ä–∞—Ö –±–æ–ª–æ–º–∂–≥“Ø–π
- –î–∞–≤—Ö–∞—Ä–¥—Å–∞–Ω –∑–∞—Ö–∏–∞–ª–≥–∞ “Ø“Ø—Å—ç—Ö–≥“Ø–π

**–•—ç—Ä—Ö—ç–Ω –∞–∂–∏–ª–ª–∞–¥–∞–≥:**
```typescript
// Backend-—Å –±“Ø—Ö –∑–∞—Ö–∏–∞–ª–≥—É—É–¥—ã–≥ —Ç–∞—Ç–Ω–∞
const disabledDates = camp.bookings
  .filter(b => b.status === 'PENDING' || b.status === 'CONFIRMED')
  .flatMap(b => getAllDatesBetween(b.startDate, b.endDate));
```

---

### 2. üü¢ –ë–æ–ª–æ–º–∂—Ç–æ–π ”©–¥—Ä“Ø“Ø–¥–∏–π–≥ –Ω–æ–≥–æ–æ–Ω ”©–Ω–≥”©”©—Ä —Ö–∞—Ä—É—É–ª–∞—Ö
**”®–º–Ω”©:** –ë“Ø—Ö ”©–¥—Ä“Ø“Ø–¥ –∏–∂–∏–ª ”©–Ω–≥”©”©—Ä —Ö–∞—Ä–∞–≥–¥–∞–∂ –±–∞–π—Å–∞–Ω.

**–û–¥–æ–æ:**
- ‚úÖ **–ë–æ–ª–æ–º–∂—Ç–æ–π ”©–¥—Ä“Ø“Ø–¥** = –ù–æ–≥–æ–æ–Ω ”©–Ω–≥”©—Ç—ç–π (`bg-emerald-100`)
- ‚ùå **–ó–∞—Ö–∏–∞–ª–∞–≥–¥—Å–∞–Ω ”©–¥—Ä“Ø“Ø–¥** = –°–∞–∞—Ä–∞–ª ”©–Ω–≥”©—Ç—ç–π, –¥–∞—Ä–∞—Ö –±–æ–ª–æ–º–∂–≥“Ø–π
- üìÖ **Calendar –¥–æ–æ—Ä —Ç–∞–π–ª–±–∞—Ä** (legend) —Ö–∞—Ä–∞–≥–¥–∞–Ω–∞

**–ö–æ–¥:**
```typescript
modifiers={{
  available: (date) => !isDateDisabled(date)
}}
modifiersClassNames={{
  available: "available-date" // –Ω–æ–≥–æ–æ–Ω ”©–Ω–≥”©
}}
```

**CSS:**
```css
.available-date {
  background-color: #d1fae5 !important;
  color: #065f46 !important;
}
```

---

### 3. üîí –ì–∞—Ä–∞—Ö ”©–¥”©—Ä –∑–∞–∞–≤–∞–ª –∏—Ä—ç—Ö ”©–¥—Ä”©”©—Å —Ö–æ–π—à
**”®–º–Ω”©:** –•—ç—Ä—ç–≥–ª—ç–≥—á –∏–∂–∏–ª —ç—Å–≤—ç–ª ”©–º–Ω”©—Ö –æ–≥–Ω–æ–æ —Å–æ–Ω–≥–æ–∂, backend –∞–ª–¥–∞–∞ ”©–≥—á –±–∞–π—Å–∞–Ω.

**–û–¥–æ–æ:**
- –ì–∞—Ä–∞—Ö ”©–¥”©—Ä —Å–æ–Ω–≥–æ—Ö–¥–æ–æ –∏—Ä—ç—Ö ”©–¥”©—Ä –±–æ–ª–æ–Ω —Ç“Ø“Ø–Ω—ç—ç—Å ”©–º–Ω”©—Ö ”©–¥—Ä“Ø“Ø–¥ **–∞–≤—Ç–æ–º–∞—Ç–∞–∞—Ä disable** –±–æ–ª–Ω–æ
- –ó”©–≤—Ö”©–Ω –∏—Ä—ç—Ö ”©–¥—Ä”©”©—Å —Ö–æ–π—à–∏—Ö ”©–¥—Ä“Ø“Ø–¥ —Å–æ–Ω–≥–æ–≥–¥–æ–Ω–æ
- –•–∞–º–≥–∏–π–Ω –±–∞–≥–∞–¥–∞–∞ **1 —Ö–æ–Ω–æ–≥** –∑–∞—Ö–∏–∞–ª–∞—Ö —à–∞–∞—Ä–¥–ª–∞–≥–∞—Ç–∞–π

**–•—ç—Ä—ç–≥–∂“Ø“Ø–ª—Å—ç–Ω –∞—Ä–≥–∞:**
```typescript
<DatePickerModal
  minDate={checkIn ? new Date(checkIn) : null}
  title="–ì–∞—Ä–∞—Ö ”©–¥”©—Ä —Å–æ–Ω–≥–æ—Ö"
/>
```

```typescript
// Modal –¥–æ—Ç–æ—Ä
if (minDate) {
  const min = new Date(minDate);
  if (date <= min) return true; // disable
}
```

---

### 4. ‚ö†Ô∏è Frontend Validation
**”®–º–Ω”©:** Backend-–¥ –æ—á–æ–æ–¥ –ª –∞–ª–¥–∞–∞–≥ –æ–ª–∂ –±–∞–π—Å–∞–Ω.

**–û–¥–æ–æ:** Frontend –¥—ç—ç—Ä –¥–∞—Ä–∞–∞—Ö —à–∞–ª–≥–∞–ª—Ç—É—É–¥ —Ö–∏–π–≥–¥—ç–Ω—ç:

#### Validation 1: –û–≥–Ω–æ–æ —Å–æ–Ω–≥–æ–æ–≥“Ø–π
```typescript
if (!checkIn || !checkOut) {
  toast({
    title: "–û–≥–Ω–æ–æ —Å–æ–Ω–≥–æ–Ω–æ —É—É",
    description: "–ò—Ä—ç—Ö –±–æ–ª–æ–Ω –≥–∞—Ä–∞—Ö –æ–≥–Ω–æ–æ —Å–æ–Ω–≥–æ–Ω–æ —É—É."
  });
  return;
}
```

#### Validation 2: –ì–∞—Ä–∞—Ö ”©–¥”©—Ä –∏—Ä—ç—Ö ”©–¥—Ä”©”©—Å —Ö–æ–π—à —ç—Å—ç—Ö
```typescript
if (checkOutDate <= checkInDate) {
  toast({
    title: "–û–≥–Ω–æ–æ –±—É—Ä—É—É –±–∞–π–Ω–∞",
    description: "–ì–∞—Ä–∞—Ö ”©–¥”©—Ä –∏—Ä—ç—Ö ”©–¥—Ä”©”©—Å —Ö–æ–π—à –±–∞–π—Ö —ë—Å—Ç–æ–π."
  });
  return;
}
```

#### Validation 3: –î–∞–≤—Ö–∞—Ä–¥–ª—ã–≥ —à–∞–ª–≥–∞—Ö
```typescript
const hasOverlap = selectedRange.some(date => 
  bookedDates.includes(date.getTime())
);

if (hasOverlap) {
  toast({
    title: "–û–≥–Ω–æ–æ –∑–∞—Ö–∏–∞–ª–∞–≥–¥—Å–∞–Ω –±–∞–π–Ω–∞",
    description: "–¢–∞–Ω—ã —Å–æ–Ω–≥–æ—Å–æ–Ω –æ–≥–Ω–æ–æ–Ω—ã —Ö–æ–æ—Ä–æ–Ω–¥ –∑–∞—Ö–∏–∞–ª–∞–≥–¥—Å–∞–Ω ”©–¥—Ä“Ø“Ø–¥ –±–∞–π–Ω–∞."
  });
  return;
}
```

---

## üé® UI/UX —à–∏–Ω—ç—á–ª—ç–ª—Ç“Ø“Ø–¥

### Calendar —Ö–∞—Ä–∞–≥–¥–∞—Ü:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ     –ò—Ä—ç—Ö ”©–¥”©—Ä —Å–æ–Ω–≥–æ—Ö           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Sun  Mon  Tue  Wed  Thu  Fri  ‚îÇ
‚îÇ                                 ‚îÇ
‚îÇ   20   21   22  [23] [24]  25  ‚îÇ
‚îÇ  (grey) (grey) (grey) üü¢  üü¢   ‚îÇ
‚îÇ                                 ‚îÇ
‚îÇ   26   27   28   29   30   31  ‚îÇ
‚îÇ   üü¢  [üü¢] (grey) üü¢  üü¢  üü¢    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  üü¢ –ë–æ–ª–æ–º–∂—Ç–æ–π   ‚ö™ –ó–∞—Ö–∏–∞–ª–∞–≥–¥—Å–∞–Ω ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ          [–ë–æ–ª–∏—Ö]  [–°–æ–Ω–≥–æ—Ö]      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Toast –º—ç–¥—ç–≥–¥–ª“Ø“Ø–¥:
- ‚úÖ **–ê–º–∂–∏–ª—Ç** - –ù–æ–≥–æ–æ–Ω ”©–Ω–≥”©, check mark
- ‚ùå **–ê–ª–¥–∞–∞** - –£–ª–∞–∞–Ω ”©–Ω–≥”©, X mark
- üìù **–¢–æ–¥–æ—Ä—Ö–æ–π —Ç–∞–π–ª–±–∞—Ä** - –•—ç—Ä—ç–≥–ª—ç–≥—á —é—É —Ö–∏–π—Ö —ë—Å—Ç–æ–π–≥ –æ–π–ª–≥–æ–Ω–æ

---

## üìÅ ”®”©—Ä—á–∏–ª—Å”©–Ω —Ñ–∞–π–ª—É—É–¥

### 1. `components/search/date-picker-modal.tsx`
**–ù—ç–º—Å—ç–Ω:**
- `minDate` prop - –≥–∞—Ä–∞—Ö ”©–¥—Ä–∏–π–Ω —à–∞–ª–≥–∞–ª—Ç
- `title` prop - dynamic –≥–∞—Ä—á–∏–≥
- Available dates –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä (–Ω–æ–≥–æ–æ–Ω ”©–Ω–≥”©)
- Legend (—Ç–∞–π–ª–±–∞—Ä)
- Disabled matcher —Å–∞–π–∂—Ä—É—É–ª–∞–ª—Ç

### 2. `app/camp/[id]/page.tsx`
**–ù—ç–º—Å—ç–Ω:**
- `getDisabledDates()` —Ñ—É–Ω–∫—Ü - –∑–∞—Ö–∏–∞–ª–∞–≥–¥—Å–∞–Ω ”©–¥—Ä“Ø“Ø–¥–∏–π–≥ —Ç–æ–æ—Ü–æ–æ–ª–æ—Ö
- Check-out picker-–¥ `minDate` –¥–∞–º–∂—É—É–ª–∞—Ö
- `handleBooking()` –¥–æ—Ç–æ—Ä 3 validation
- –ò—Ä—ç—Ö ”©–¥”©—Ä ”©”©—Ä—á–ª”©–≥–¥”©—Ö”©–¥ –≥–∞—Ä–∞—Ö ”©–¥”©—Ä –∞—Ä–∏–ª–≥–∞—Ö –ª–æ–≥–∏–∫

### 3. `tusul_back/utils/validation/index.ts`
**–ê–ª—å —Ö—ç–¥–∏–π–Ω –±–∞–π—Å–∞–Ω:**
```typescript
endDate: Joi.date().iso().greater(Joi.ref('startDate')).required()
```

### 4. `tusul_back/graphql/resolvers/booking.ts`
**–ê–ª—å —Ö—ç–¥–∏–π–Ω –±–∞–π—Å–∞–Ω:**
```typescript
const isAvailable = await checkYurtAvailability(...);
if (!isAvailable) {
  throw new Error('Yurt is not available');
}
```

---

## üß™ –¢—É—Ä—à–∏–ª—Ç—ã–Ω –∂–∞–≥—Å–∞–∞–ª—Ç

–≠–¥–≥—ç—ç—Ä —Ç–µ—Å—Ç“Ø“Ø–¥–∏–π–≥ —Ö–∏–π–∂ “Ø–∑–Ω—ç “Ø“Ø:

1. ‚úÖ –ó–∞—Ö–∏–∞–ª–∞–≥–¥—Å–∞–Ω ”©–¥—Ä“Ø“Ø–¥ —Å–∞–∞—Ä–∞–ª —Ö–∞—Ä–∞–≥–¥–∞–∂, –¥–∞—Ä–∞–≥–¥–∞—Ö–≥“Ø–π –±–∞–π–Ω–∞
2. ‚úÖ –ë–æ–ª–æ–º–∂—Ç–æ–π ”©–¥—Ä“Ø“Ø–¥ –Ω–æ–≥–æ–æ–Ω ”©–Ω–≥”©—Ç—ç–π —Ö–∞—Ä–∞–≥–¥–∞–∂ –±–∞–π–Ω–∞
3. ‚úÖ –ì–∞—Ä–∞—Ö ”©–¥”©—Ä —Å–æ–Ω–≥–æ—Ö–¥–æ–æ –∏—Ä—ç—Ö ”©–¥—Ä”©”©—Å ”©–º–Ω”©—Ö ”©–¥—Ä“Ø“Ø–¥ disable –±–∞–π–Ω–∞
4. ‚úÖ –ò—Ä—ç—Ö ”©–¥—Ä–∏–π–≥ ”©”©—Ä—á–ª”©—Ö”©–¥ –≥–∞—Ä–∞—Ö ”©–¥”©—Ä –∞—Ä–∏–ª–∂ –±–∞–π–Ω–∞
5. ‚úÖ –î–∞–≤—Ö–∞—Ä–¥—Å–∞–Ω –æ–≥–Ω–æ–æ —Å–æ–Ω–≥–æ—Ö—ã–≥ –æ—Ä–æ–ª–¥–æ—Ö–æ–¥ –∞–ª–¥–∞–∞–Ω—ã –º—ç–¥—ç–≥–¥—ç–ª –≥–∞—Ä—á –±–∞–π–Ω–∞
6. ‚úÖ –ó”©–≤ –æ–≥–Ω–æ–æ —Å–æ–Ω–≥–æ—Ö–æ–¥ –∞–º–∂–∏–ª—Ç—Ç–∞–π –∑–∞—Ö–∏–∞–ª–≥–∞ “Ø“Ø—Å—á, dashboard –¥—ç—ç—Ä —Ö–∞—Ä–∞–≥–¥–∞–∂ –±–∞–π–Ω–∞

–î—ç–ª–≥—ç—Ä—ç–Ω–≥“Ø–π —Ç—É—Ä—à–∏–ª—Ç—ã–Ω –≥–∞—Ä—ã–Ω –∞–≤–ª–∞–≥–∞: `BOOKING_DATE_VALIDATION_GUIDE.md` —Ñ–∞–π–ª —É—É.

---

## üéØ –¢–∞–Ω—ã –∞–Ω—Ö–Ω—ã –∞—Å—É—É–¥–ª—ã–Ω —à–∏–π–¥—ç–ª

### ‚ùì –ê—Å—É—É–¥–∞–ª:
> "ugugdliin sand ali hdiin bvrgegdsen ognoog songoh blomjgov songoh blomjtoi udriig nogoonoor haruulah hergtei gj bodoj baina zahialgiin dawharadaliig sahlgah"

### ‚úÖ –®–∏–π–¥—ç–ª:
1. **”®–≥”©–≥–¥–ª–∏–π–Ω —Å–∞–Ω–¥ –±“Ø—Ä—Ç–≥—ç–≥–¥—Å—ç–Ω –æ–≥–Ω–æ–æ —Å–æ–Ω–≥–æ—Ö –±–æ–ª–æ–º–∂–≥“Ø–π** ‚úì
   - `disabledDates` –∞—à–∏–≥–ª–∞–Ω –∑–∞—Ö–∏–∞–ª–∞–≥–¥—Å–∞–Ω ”©–¥—Ä“Ø“Ø–¥–∏–π–≥ disable —Ö–∏–π—Å—ç–Ω

2. **–°–æ–Ω–≥–æ–∂ –±–æ–ª–æ—Ö ”©–¥—Ä“Ø“Ø–¥–∏–π–≥ –Ω–æ–≥–æ–æ–Ω ”©–Ω–≥”©”©—Ä —Ö–∞—Ä—É—É–ª–∞—Ö** ‚úì
   - `modifiers` –±–æ–ª–æ–Ω `modifiersClassNames` –∞—à–∏–≥–ª–∞–Ω –Ω–æ–≥–æ–æ–Ω ”©–Ω–≥”© –Ω—ç–º—Å—ç–Ω
   - Calendar –¥–æ–æ—Ä legend –Ω—ç–º—Å—ç–Ω

3. **–ó–∞—Ö–∏–∞–ª–≥—ã–Ω –¥–∞–≤—Ö–∞—Ä–¥–ª—ã–≥ —à–∞–ª–≥–∞—Ö** ‚úì
   - Frontend: `hasOverlap` —à–∞–ª–≥–∞–ª—Ç
   - Backend: `checkYurtAvailability` query
   - Validation schema: `endDate > startDate`

---

## üöÄ –î–∞—Ä–∞–∞–≥–∏–π–Ω –∞–ª—Ö–∞–º

–û–¥–æ–æ —Ç—É—Ä—à–∏–∂ “Ø–∑—ç—ç—Ä—ç–π:

1. Dev server –∞—Å–∞–∞–∂ –±–∞–π–≥–∞–∞ —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞–Ω–∞:
   ```bash
   npm run dev
   ```

2. `http://localhost:3000/camps` —Ä—É—É –æ—Ä–Ω–æ

3. –Ø–º–∞—Ä –Ω—ç–≥ camp —Å–æ–Ω–≥–æ–æ–¥ –∑–∞—Ö–∏–∞–ª–≥–∞ —Ö–∏–π–∂ “Ø–∑–Ω—ç

4. Calendar –¥—ç—ç—Ä:
   - –ù–æ–≥–æ–æ–Ω ”©–¥—Ä“Ø“Ø–¥ —Å–æ–Ω–≥–æ–≥–¥–æ—Ö —ë—Å—Ç–æ–π
   - –°–∞–∞—Ä–∞–ª ”©–¥—Ä“Ø“Ø–¥ –¥–∞—Ä–∞–≥–¥–∞—Ö–≥“Ø–π –±–∞–π—Ö —ë—Å—Ç–æ–π
   - –ì–∞—Ä–∞—Ö ”©–¥”©—Ä –∏—Ä—ç—Ö ”©–¥—Ä”©”©—Å —Ö–æ–π—à –±–∞–π—Ö —ë—Å—Ç–æ–π

---

–ê–º–∂–∏–ª—Ç —Ö“Ø—Å—å–µ! –ê—Å—É—É–ª—Ç –±–∞–π–≤–∞–ª –Ω–∞–¥–∞–∞—Å –∞—Å—É—É–Ω–∞ —É—É. üéâ

**–•–∞–º–≥–∏–π–Ω —á—É—Ö–∞–ª:** –≠–Ω—ç —à–∏–Ω—ç—á–ª—ç–ª—Ç –Ω—å —Ö—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω —Ç—É—Ä—à–ª–∞–≥–∞ (UX) –±–æ–ª–æ–Ω —Å–∏—Å—Ç–µ–º–∏–π–Ω –Ω–∞–π–¥–≤–∞—Ä—Ç–∞–π –±–∞–π–¥–ª—ã–≥ **–∏—Ö —Å–∞–π–∂—Ä—É—É–ª–∂** –±–∞–π–Ω–∞! üôå

